안전하게 리팩토링할 수 있는 방법으로 아래와 같은 방식을 이용할 수 있다..

#### 1. 발아 메소드(sprout method)

**씨를 심는다 라는 느낌**

 기존의 메소드에서 변경할 부분에 새롭게 발아 메소드가 될 부분에 메소드를 만든다. 그리고 해당 메소드에 코드를 옮기며, 테스트 코드를 작성하며 코드를 옮긴다.



**장단점?**

이 메소드를 사용하면, 원래의 메소드는 잠시 포기하는 것과 같다. 원래는 메소드는 테스트 루틴으로 보호하는 것도 아니고, 개선하는 것도 아니다. 그저 신규 메소드로서 새로운 기능을 추가하는 것이다.



#### 2. 발아 클래스(sprout class)

마찬가지로 일 부분의 내용을 클래스로 전환하는 것을 말한다.
"겨우 이정도의 변경을 위해 클래스를 새로 작성하다니 바보 같은 짓입니다. 설계상 아무런 도움도 되지 않는 작은 클래스에 불과합니다. 이런 설계를 도입하면 코드가 혼란스러워질 뿐입니다." 그럼에도 불구하고 **이렇게 하는 것은 의존 관계의 복잡성을 벗어나기 위한 것이다.**



그럼 왜 발아 클래스를 작성할까?

1. 어떤 클래스에 완전히 새로운 역할을 추가하고 싶을 경우
2. 기존클래스에 약간의 기능을 추가하고 싶지만 그 클래스를 테스트 하네스 내에서 테스트할 수 없는 경우



**단점으로는 메커니즘이 복잡해다는 것**. 개발자가 새로운 코드베이스를 배울 때는 주요 클래스들이 어떻게 관련되는지에 중점을 두면서 이해를 높여나가는 것이 일반적이다. 하지만 발아 클래스는 추상적인 처리 부분과 다른 클래스 내의 처리 부분으로 이뤄지기 때문에 이해하기가 어렵다. 이런 경우에는 원래 하나의 클래스에서 변경을 수행했어야 할 것을 안전한 변경 작업을 위해 여러 개의 클래스로 쪼갠 것으로 봐야 한다.

#### 3. 포장 메소드(wrapper method)

#### 4. 포장 클래스(wrapper class)





