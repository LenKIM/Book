# FIRST: 좋은 테스트 조건

좋은 테스트 속성은 무엇일까?

# [문제가 되는 테스트란 무엇인가?]

- 테스트를 사용하는 사람에게 어떤 정보도 주지 못하는 테스트
- 산발적으로 실패하는 테스트
- 어떤 가치도 증명하지 못하는 테스트
- 실행하는 데 오래 걸리는 테스트
- 코드를 충분히 커버하지 못하는 테스트
- 구현과 강하게 결합되어 있는 테스트. 따라서 작은 변화에도 다수의 테스트가 깨집니다.
- 수많은 설정 고리로 점프하는 난해한 테스트

# FIRST 조건 기억하기.

- [F]ast: 빠른

- [I]solated: 고립된
- [R]epeatable: 반복 가능한
- [S]elf-validating: 스스로 검증 가능한
- [T]imely: 적시의



# [F]IRST: 빠르다.

 좋은 테스트의 조건으로 **빠르다** 라는 것은 무슨 의미일까?

빠른 테스트는 코드만 실행하며 소요 시간은 수 밀리초 수준입니다. 느린 테스트는 데이터베이스, 파일, 네트워크 호출처럼 필요한 외부 자원을 다루는 코드를 호출한다. 

느린 테스트는, 점점더 오래걸리게 될 것입니다. 그러므로 테스트의 가치는 떨어지게 될 것입니다. 

**그러므로, 테스트를 빠르게 유지하세요!** 

설계를 깨끗하게 하면 빠르게 유지할 수 있습니다. 가장 먼저 느린 테스트에 대한 의존성을 줄이세요. 모든 테스트 코드가 DB를 호출한다면 전체 테스트 또한 느릴 것입니다.

# F[I]RST: 고립시킨다.

 좋은 단위 테스트는 검증하려는 작은 양의 코드에 집중합니다. 직접적 혹은 간접적으로 테스트 코드와 상호 작용하는 코드가 많을수록 문제가 발생할 소지가 늘어납니다.

  만약 의존성이 많은 단위테스트라면 외부 변화도 걱정해야 합니다. 그러므로 좋은 단위 테스트는 다른 단위 테스트에 의존하지 않습니다.

# FI[R]ST: 좋은 테스트는 반복 가능해야 한다.

  반복 가능한 테스트는 실행할 때마다 결과가 같아야 합니다. 따라서 반복 가능한 테스트를 만들려면 직접 통제할 수 없는 외부 환경에 있는 항목들과 격리시켜야 합니다.

 예를 들어 시간 테스트가 필요한 테스트 코드의 경우에는 고정된 시간을 넘겨주는 행위가 필요할 것입니다. 그렇지 않으면 시간이 흐름에 따라 테스트 코드가  변경될 수 있습니다.

```
Clock.fixed(now, ZoneId, of("America/Denver"))
```

# FIR[S]T: 스스로 검증가능하다.

 **스스로 검증가능하다**는 말의 의미는 무엇일까?

책에서 말하는 스스로 검증가능하다는 의미는 지속적 배포를 할 수 있게 도와주는 젠킨스 혹은 TeamCity같은 도구를 활용해, 자동으로 수행되어 스스로 검증한다는 말의 의미이다.

# FIRS[T]: 적시에 사용한다.

**적시에 사용한다.** 라는 말의 의미는 개발을 하다가 무심코 단위 테스트를 검증하는 것을 미룰수록 점점 더 테스트 코드를 작성하기 힘들어진다는 말의 의미이다.

